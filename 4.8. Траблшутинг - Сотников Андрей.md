# Домашнее задание к занятию "4.8. Траблшутинг"

---

### Задание 1. 

> 1. Укажите путь к файлам логов веб-сервера `Nginx`. 
  
`access_log /var/log/nginx/access.log`  
`error_log /var/log/nginx/error.log`

> 2. Где находится конфигурационный файл, в котором можно посмотреть / поменять эти пути?  
  
Документация говорит, что файл nginx.conf может быть в:  
- `/usr/local/nginx/conf`
- `/etc/nginx`
- `/usr/local/etc/nginx`  

У меня при установке файл лежал в `/etc/nginx`

> 3. Какой командой можно воспользоваться для просмотра файла журнала в режиме реального времени?
> Попробуйте найти сами, либо воспользуйтесь [ссылкой](https://andreyex.ru/operacionnaya-sistema-linux/nastrojka-zhurnala-oshibok-i-dostupa-nginx/).

`tail -f  *.log`

---

### Задание 2. 

Познакомьтесь со схемой сети.

![](https://i.imgur.com/RefFHYj.png)

> 1. `COMP1` не может обменяться данными с `COMP4`. Какую последовательность действий вы выберете для того, чтобы локализовать проблему?

Со стороны COMP1: 
- Проверка `ping COMP4`, если не проходит, первым делом я бы попробовал пропинговать другой хост в том же широковещательном домене
 (например, COMP5, если раньше связь была) и пинговать каждый промежуточный узел или воспользоваться `tracert`, чтобы посмотреть, на каком этапе прерывается соединение. 
 Дальше проверка последнего ответившего устройства, сначала, по возможности, физически (подключение, линки), потом на канальном уровне (интерфейсы, подсети, MAC),
 затем настройки firewall, forwarding, портов

2. Возможно ли, чтобы при выполнении `ping 192.168.1.2` с компьютера `COMP5`, `ping` прошёл, а подключение по HTTP с `COMP5` на `COMP1` не проходило бы? Поясните свой  ответ максимально детально.
3. `COMP5` отправляет `ping` на `COMP1` и `COMP2`, при этом `COMP1` на `ping` отвечает, а `COMP2` - нет. 

Приведите максимальное количество причин. Самую простую, но нередко встречающуюся - «У `COMP2` выдернули кабель питания» - я уже ответил за вас.

4. `COMP1` пингует только адреса из подсети `192.168.1.0/24` (`COMP2` и `192.168.1.1`), больше никакие адреса не пингуются. С чем это может быть связано? 

*Приведите ответ в свободной форме.*

---


**

## Дополнительные задания (со звездочкой*)
Эти задания дополнительные (не обязательные к выполнению) и никак не повлияют на получение вами зачета по этому домашнему заданию. Вы можете их выполнить, если хотите глубже и/или шире разобраться в материале.


### Задание 3. 

Используя схему из Задания 2, попробуйте ответить на вопросы:
1. `COMP1` и `COMP2` оба пингуют `10.1.1.2`, однако не пингуют `192.168.2.1` и прочие адреса из `192.168.2.0/24`. Как вы думаете, что не так и как это можно исправить?
2. Какими способами мы можем сделать так, чтобы `COMP2` не смог общаться ни с кем кроме своей локальной сети? (Приведите вариант с настройками самого `COMP2` и попробуйте придумать, можно ли что-то сделать на маршрутизаторе `192.168.1.1`)
3. Как вы думаете, что будет происходить при попытке провести `ping` с `COMP5` на `192.168.2.3` ?

*Приведите ответ в свободной форме.*

---

### Задание 4. 

- Сделайте `ping` с одной виртуальной / физической машины на другую.
- Используя [описание утилиты iperf](https://losst.ru/kak-polzovatsya-iperf), загрузите канал между двумя виртуальными машинами на максимум, например, на 60 секунд, в процессе загрузки повторите `ping`.
- Изменились ли цифры в ответе команды `ping`? Почему? Есть ли разница между физическими и виртуальными машинами?

*Приведите скриншоты/ответы команд до и во время высокой загрузки каналов.*
